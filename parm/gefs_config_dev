#######################################################
# This file defines the various input varibles for the
# GEFS model run, INIT_SEPARATE job only
#######################################################
 
export RUN_ENVIR=${RUN_ENVIR:-dev}
export envir=${envir:-dev}
export SENDDBN=${SENDDBN:-%SENDDBN:NO%}
export SENDDBN_NTC=${SENDDBN_NTC:-%SENDDBN_NTC:NO%}

export KEEPDATA=NO
export SENDCOM=YES
export SENDECF=NO

#export PARAFLAG=${PARAFLAG:-YES}
export PARAFLAG=${PARAFLAG:-NO}
export SENDECF=${SENDECF:-NO}
export SENDCOM=${SENDCOM:-YES}
export KEEPDATA=${KEEPDATA:-%KEEPDATA:NO%}

export COMROOT=$baseoutput/com
export GESROOT=$baseoutput/nwges
export DATAROOT=$baseoutput/tmpnwprd
export DCOMROOT=${DCOMROOT:-/dcom}

mkdir -p  $COMROOT/logs/jlogfiles

HOMEDIR=/ensemble/save/emc.enspara/RFC
HOMEDIR=/nwprod2
export gefsmachine=${gefsmachine:-dell}

#  export HOMEgefs=$HOMEDIR/gefs.v11.1.1
#  export HOMEgefs=$basesource/nwdev
  export HOMEgefs=$basesource/nw${envir}/gefs_legacy.${gefs_legacy_ver}
  export HOMEgefs_legacy=$basesource/nw${envir}/gefs_legacy.${gefs_legacy_ver}

  export USE_CFP=YES
  export NET=gens

# Define COMINgfs and alike for the gefs_init_separate job 
 
if [[ ${jobscript} = JGEFS_INIT_SEPARATE ]] ; then

  d6ahead_ymdh=` $NDATE 6 ${PDY}${cyc}`
  d6ago_ymdh=` $NDATE -6 ${PDY}${cyc}`
  export d6ahead_ymd=`echo $d6ahead_ymdh|cut -c1-8`
  export d6ago_ymd=`echo $d6ago_ymdh|cut -c1-8`

  #export COMPATH=/gpfs/dell2/emc/verification/noscrub/emc.enspara/Xianwu.Xue/GEFS_LEGACY/Canned_Case/gfs/para
  #export GFSbase=/gpfs/dell4/emc/retros/noscrub/Dingchen.Hou/s/DATA
  export GFSbase=/gpfs/dell2/emc/verification/noscrub/emc.enspara/Xianwu.Xue/GEFS_LEGACY/Canned_Case/gfs/para
  export GFSbase=${GFSbase:-$(compath.py gfs/prod)}
  #export GFSbase=${GFSbase:-$(compath.py gfs/para)}
  #export GEFSbase=/gpfs/dell4/emc/retros/noscrub/Dingchen.Hou/s/DATA

  #export COMPATH=/gpfs/dell2/emc/verification/noscrub/emc.enspara/Xianwu.Xue/GEFS_LEGACY/Canned_Case/gefs/prod
  #export GEFSbase=/gpfs/dell4/nco/ops/com/parallel-test/20210202/com/gefs/prod
  export GEFSbase=/gpfs/dell2/emc/verification/noscrub/emc.enspara/Xianwu.Xue/GEFS_LEGACY/Canned_Case/gefs/prod
  export GEFSbase=${GEFSbase:-$(compath.py gefs/prod)}

  export COMINgfs=${GFSbase}/gfs.$PDY/$cyc/atmos
  export COMINgfs6ago=${GFSbase}/gfs.$d6ago_ymd
  export COMINgfs6ahead=${GFSbase}/gfs.$d6ahead_ymd
  export COMINenkf=${GFSbase}/enkfgdas.
  export COMINgefs=${GEFSbase}/gefs.$PDY/$cyc/atmos/sfcsig
  export COMINgefs=${COMINgefs:-$(compath.py gefs/prod/gefs.$PDY)/$cyc/atmos/sfcsig}

  #export gfstrkdir=/gpfs/hps/nco/ops/com/parallel-test/20210202/com/ens_tracker/prod/gfs.${PDY}/$cyc/tctrack

  #export COMPATH=/gpfs/dell2/emc/verification/noscrub/emc.enspara/Xianwu.Xue/GEFS_LEGACY/Canned_Case/ens_tracker/prod
  export gfstrkdir=/gpfs/dell2/emc/verification/noscrub/emc.enspara/Xianwu.Xue/GEFS_LEGACY/Canned_Case/ens_tracker/prod/gfs.${PDY}/$cyc/tctrack
  export gfstrkdir=${gfstrkdir:-$(compath.py ens_tracker/prod/gfs.${PDY})/$cyc/tctrack}
 

fi
